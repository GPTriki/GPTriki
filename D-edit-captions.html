<body>
    <script>
        let caps = {};
        async function gl() {
            captions = await fetch('./4-captions.json').then(res => res.json());

            function parse(cap) {
                const [_, ...a] = [...JSON.stringify(cap).matchAll(/"text":"([^"]+)"/g)].map(x => x[1]);
                return a.join(' ')
            }

            let html = '';
            for (let id in captions) {
                const cap = parse(captions[id]);

                caps[id] = cap;

                html += `<img src="./c-stopframes/${id}-0.jpg" width="700" />
        <img src="./c-stopframes/${id}-100.jpg" width="700" /><br />
        <input value="${cap}" id="a${id}" style="font-size:20px;width:100%" /><br/>`;
            }

            document.body.innerHTML = html
        }

        gl();

        function save() {
            document.body.innerText = JSON.stringify(Object.fromEntries([...document.querySelectorAll('input')].map(x => [x.id.replace("a", ""), x.value])))
        }        
    </script>
</body>
